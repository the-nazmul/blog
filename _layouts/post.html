---
layout: default
---

<article>
  {% include meta.html post=page %}
  
  <div class="post-date">
    <p><strong>{{ page.bengali_date }}</strong></p>
  </div>
  
  {{ content | add_ids_to_h2 }}

  {% if page.comments != false and site.comments.isso or site.comments.disqus %}
    <hr>
    {% if site.comments.isso_domain %}<div id="isso-thread"></div>{% endif %}
    {% if site.comments.disqus_shortname %}<div id="disqus_thread"></div>{% endif %}
    <noscript>Please enable JavaScript to view comments.</noscript>
  {% endif %}
</article>

<!-- Feedback Icon HTML, CSS, and JavaScript -->
<div id="feedbackIcon" class="feedback-icon">‡¶è‡¶á ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶¶‡¶ø‡¶® üí¨</div>

<style>
  .feedback-icon {
    display: none;
    position: absolute;
    background: black;
    color: white;
    padding: 5px;
    border-radius: 20px;
    cursor: pointer;
    z-index: 1000;
  }

  .toggle-icon {
    cursor: pointer;
    font-size: 0.8em;
    margin-left: 10px;
  }

  .collapsible-content {
    display: none; /* Hidden by default */
  }
</style>

<script>
  document.addEventListener('contextmenu', function (e) {
    e.preventDefault();
  });

  function handleSelection() {
    const selectedText = window.getSelection().toString().trim();
    const feedbackIcon = document.getElementById('feedbackIcon');
    let headingText = '';

    try {
      const range = window.getSelection().rangeCount > 0 ? window.getSelection().getRangeAt(0) : null;
      if (!range) return; // Exit if no valid range

      let node = range.startContainer;

      while (node) {
        if (node.nodeType === Node.ELEMENT_NODE && (node.tagName === 'H2' || node.tagName === 'H3')) {
          headingText = node.textContent.trim();
          break;
        }
        node = node.previousElementSibling || node.parentElement;
      }

      if (selectedText.length > 0) {
        const rect = range.getBoundingClientRect();
        feedbackIcon.style.top = `${rect.bottom + window.scrollY + 5}px`;
        feedbackIcon.style.left = `${rect.left + window.scrollX}px`;
        feedbackIcon.style.display = 'block';

        feedbackIcon.onclick = function() {
          const formUrl = "https://docs.google.com/forms/d/e/1FAIpQLScW7dEB7FoqW9CbsDlzIrhqxJGxS_0Q7seKzNsVVqrQE6uPOQ/formResponse";
          const feedbackLink = `${formUrl}?entry.501096513=${encodeURIComponent(headingText)}&entry.1634181542=${encodeURIComponent(selectedText)}`;
          window.open(feedbackLink, '_blank');
        };
      } else {
        feedbackIcon.style.display = 'none';
      }
    } catch (e) {
      console.error('Error handling text selection:', e);
    }
  }

  document.addEventListener('mouseup', handleSelection);
  document.addEventListener('touchend', handleSelection);
</script>

<!-- Materialize, jQuery, and Font Awesome includes -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<!-- Assume Font Awesome is already included as 'fa' -->

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Find all h2 tags and add a toggle icon next to them
    $('h2').each(function() {
      var heading = $(this);
      var content = heading.nextUntil('h2'); // Find content until the next h2
      
      // Add a toggle icon after each h2 using Font Awesome character numbers
      var toggleIcon = $('<i class="fa toggle-icon">&#xf078;</i>'); // Font Awesome down arrow
      heading.append(toggleIcon);

      // Wrap the content in a collapsible container
      content.wrapAll('<div class="collapsible-content"></div>');

      // Add click event to the toggle icon and the h2
      heading.on('click', function() {
        $(this).find('.toggle-icon').html(function(_, currentHtml) {
          return currentHtml === '\uf078' ? '\uf077' : '\uf078'; // Toggle between down and up chevron
        });
        heading.next('.collapsible-content').slideToggle(); // Toggle visibility of content
      });
    });
  });
</script>
